---
import MenuListItem from "./MenuListItem.astro";
import LanguageListItem from "./LanguageListItem.astro";
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<ul id="menu-list">
    <MenuListItem label={t('about.title')} link="#about-me" />
    <MenuListItem label={t('work.title')} link="#my-work" />
    <MenuListItem label={t('contact.title')} link="#contact" />
    
    <LanguageListItem />
</ul>

<style>
ul {
    display: flex;
    align-items: center;
    position: relative;
    list-style-type: none;
}

@media screen and (max-width: 767px) {
    ul {
        flex-direction: column;
        position: absolute;
        top: 0;
        right: 0;
        padding: 56px 0;
        width: 100vw;
        background-color: rgb(var(--color-background-rgb) / 0.9);
        pointer-events: none;
        backdrop-filter: blur(5px);
        clip-path: circle(0% at calc(100% - 28px) 28px);
        transition: clip-path 500ms ease;
    }
}

@media (min-width: 768px) {
    ul {
        justify-content: space-between;
        height: 100%;
    }
}
</style>